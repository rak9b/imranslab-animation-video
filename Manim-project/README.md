# Imran’s Lab — Animated Intro Video Pipeline

A production‑ready pipeline for generating a high‑quality animated intro video with synchronized narration. Built with Manim, gTTS, and FFmpeg. Modular by design, easy to customize, and documented for repeatable, scalable use.

---

## Overview

This repository creates a polished, branded intro video by combining custom Manim scenes, gTTS voiceovers, and FFmpeg merging. The pipeline is split into clear steps so you can update narration, visuals, or branding without touching the core logic.

```text
Narration Text → gTTS (MP3) → Manim (MP4) → FFmpeg (merge/concat) → Final Intro Video
```

---

## Features

- **Custom animations:** Gradient backgrounds, floating particles, smooth text transitions, and logo choreography.
- **Synthesized narration:** Script‑to‑speech generation via gTTS with clean, consistent audio output.
- **Automated syncing:** Robust FFmpeg merging ensures the video matches narration length (per scene).
- **Modular structure:** Independent components for animation, audio generation, and merging for easy iteration.
- **High‑quality output:** Final deliverable in 1080p60 MP4, suitable for intros and branding reels.

---

## Tech stack

- **Language:** Python 3.13.3
- **Animation:** Manim (Community Edition)
- **Text‑to‑speech:** gTTS (Google Text‑to‑Speech)
- **Media processing:** FFmpeg (CLI)
- **Utilities:** NumPy (particles, randomness)

---

## Storyboard

| Scene | Background | Elements | Animations | Narration |
| --- | --- | --- | --- | --- |
| Opening branding | Light gradient with floating particles | Lab logo, slogan | Logo scale/rotate in; gradient slogan fades; gentle float | “Welcome to Imran’s Lab, inspiring minds, building futures...” |
| Personal introduction | Expanding light‑blue circles | Name, fun fact, university, enthusiasm | Staggered directional fades; floating text; rotating background | Personal intro + highlights |
| Closing branding | Gradient with floating circles | Thank‑you line, closing slogan | Scale‑in; write‑on effect; float to fade‑out | Motivational closing line |

> Tip: Add 2–3 still frames from each scene in a “docs/” folder to showcase visuals in the README.

---

## Project structure

```text
ImransLabIntroVideo/
├── intro_video.py              # Manim scenes (OpeningBranding, PersonalIntroduction, ClosingBranding)
├── generate_voiceover.py       # Generates MP3 voiceovers from narration_*.txt via gTTS
├── combine_videos.py           # Merges per‑scene video+audio and concatenates the final video via FFmpeg
├── narration_intro.txt         # Narration script (3 sections or separate files: narration_*.txt)
│
├── assets/
│   ├── images/
│   │   └── imranslab_logo.png  # Primary branding asset
│   └── audio/                  # Auto‑generated voiceovers (output of gTTS)
│       ├── voiceover_opening.mp3
│       ├── voiceover_intro.mp3
│       └── voiceover_closing.mp3
│
├── media/                      # Auto‑generated by Manim (renders)
│
└── outputs/
    ├── videos/
    │   └── final_intro_video.mp4  # Final deliverable
    └── temp/                      # Temporary files (merge/concat)
```

---

## Quick start

- **Install core tools:**
  ```bash
  python -m venv venv
  # Windows:
  venv\Scripts\activate
  # macOS/Linux:
  source venv/bin/activate

  pip install manim gTTS numpy
  # macOS (Homebrew):
  brew install ffmpeg
  # Ubuntu/Debian:
  sudo apt update && sudo apt install -y ffmpeg
  # Windows: https://ffmpeg.org/download.html (add ffmpeg to PATH)
  ```

- **Render scenes (high quality, preview):**
  ```bash
  manim -pqh intro_video.py OpeningBranding
  manim -pqh intro_video.py PersonalIntroduction
  manim -pqh intro_video.py ClosingBranding
  # For faster tests: replace -pqh with -pql
  ```

- **Generate narration audio:**
  ```bash
  python generate_voiceover.py
  ```

- **Merge and export final video:**
  ```bash
  python combine_videos.py
  ```

- **Result location:**
  ```text
  outputs/videos/final_intro_video.mp4
  ```

---

## Detailed usage

### 1. Environment setup

- **Create and activate venv:**
  ```bash
  python -m venv venv
  # Windows:
  venv\Scripts\activate
  # macOS/Linux:
  source venv/bin/activate
  ```

- **Install dependencies (pin later for reproducibility):**
  ```bash
  pip install manim gTTS numpy
  ```

- **Install FFmpeg (required for merging):**
  ```bash
  # macOS:
  brew install ffmpeg

  # Ubuntu/Debian:
  sudo apt update && sudo apt install -y ffmpeg

  # Windows:
  # Download and add to PATH: https://ffmpeg.org/download.html
  ```

### 2. Prepare narration

- **Single file approach:**  
  Place three sections in `narration_intro.txt` with clear separators your script expects (e.g., `---`), or
- **Multiple files approach:**  
  Create:
  ```text
  narration_opening.txt
  narration_intro.txt
  narration_closing.txt
  ```
  The voiceover script will read these and produce:
  ```text
  assets/audio/voiceover_opening.mp3
  assets/audio/voiceover_intro.mp3
  assets/audio/voiceover_closing.mp3
  ```

### 3. Render animations

- **Per scene renders (recommended):**
  ```bash
  # High quality 1080p60
  manim -pqh intro_video.py OpeningBranding
  manim -pqh intro_video.py PersonalIntroduction
  manim -pqh intro_video.py ClosingBranding

  # Low quality for iteration
  manim -pql intro_video.py OpeningBranding
  manim -pql intro_video.py PersonalIntroduction
  manim -pql intro_video.py ClosingBranding
  ```

- **Output path (default Manim structure):**
  ```text
  media/videos/intro_video/1080p60/
  ```

### 4. Merge audio + video and export

- **Run the merge/concat step:**
  ```bash
  python combine_videos.py
  ```

- **Final output:**
  ```text
  outputs/videos/final_intro_video.mp4
  ```

---

## Customization

- **Branding assets:**  
  Replace `assets/images/imranslab_logo.png` with your logo (same filename), or update `intro_video.py` to point to a new path.

- **Colors and gradients:**  
  Expose color constants at the top of `intro_video.py` (e.g., `PRIMARY`, `ACCENT`, `BG_GRADIENT`) and modify once to propagate across scenes.

- **Typography:**  
  Set `config.default_font` or per‑Text/MarkupText font in Manim. Ensure the font is installed and accessible on your OS.

- **Particle/background effects:**  
  Parameterize particle count, speed, and opacity (e.g., `N_PARTICLES`, `DRIFT_SPEED`, `ALPHA_RANGE`) to quickly tune performance and style.

- **Narration language/speed (gTTS):**  
  In `generate_voiceover.py`, tweak `lang="en"` and `slow=False` to suit your voice style and target audience.

- **Scene timing:**  
  Favor narration‑driven lengths. Use FFmpeg’s `-shortest` during merge so the video trims to match the audio precisely.

---

## One‑command build (optional)

Create a convenience script for end‑to‑end builds.

- **scripts/run_all.sh (macOS/Linux):**
  ```bash
  #!/usr/bin/env bash
  set -euo pipefail

  python generate_voiceover.py

  manim -pqh intro_video.py OpeningBranding
  manim -pqh intro_video.py PersonalIntroduction
  manim -pqh intro_video.py ClosingBranding

  python combine_videos.py
  ```

- **scripts/run_all.bat (Windows):**
  ```bat
  @echo off
  setlocal enabledelayedexpansion
  python generate_voiceover.py
  manim -pqh intro_video.py OpeningBranding
  manim -pqh intro_video.py PersonalIntroduction
  manim -pqh intro_video.py ClosingBranding
  python combine_videos.py
  ```

> Tip: Mark the shell script executable with `chmod +x scripts/run_all.sh` and run `./scripts/run_all.sh`.

---

## Performance notes

- **Preview wisely:** Use `-pql` for rapid iteration; switch to `-pqh` for final review; consider `-qh` for export without preview.
- **Keep scenes short:** Narration‑aligned segments render faster and are easier to maintain than a single long timeline.
- **Cache strategically:** Manim caches intermediates; minor text edits won’t always invalidate heavy background effects if separated into layers.

---

## Troubleshooting

- **FFmpeg not found:** Ensure it’s installed and on PATH. On Windows, verify `ffmpeg -version` works in a new terminal.
- **gTTS errors/timeouts:** Check connectivity; retry; consider splitting long text into smaller chunks.
- **Fonts not applied:** Confirm the font is installed on your OS and referenced correctly in Manim. Try specifying the absolute font path.
- **Video stutter/jitter:** Prefer whole‑number frame rates (60) and avoid excessive subpixel motion on thin lines.
- **Audio/video desync:** Merge per scene, use `-shortest`, and verify all inputs share the same sample rate (e.g., 48 kHz).

---

## Reproducibility

- **Python version:** Tested on Python 3.13.3
- **Pin dependencies:** Create a `requirements.txt` once your versions are stable.
  ```text
  manim
  gTTS
  numpy
  ```
  Install with:
  ```bash
  pip install -r requirements.txt
  ```

---

## Roadmap

- **Background music:** Mix a low‑volume music bed under narration.
- **Single CLI entrypoint:** Add an orchestrator (e.g., `python run.py --quality high`).
- **Parameterized themes:** Centralize colors, fonts, and motion presets for brand swaps.
- **CI rendering:** Containerize with a reproducible environment for server‑side renders.

---

## License

- **Usage:** Adapt and evolve for your lab, class, or brand.  
- **Attribution:** Manim CE, gTTS, and FFmpeg are licensed independently; follow their respective licenses.

---

## Credits

- **Creative & engineering:** Imran’s Lab project team  
- **Core tools:** Manim Community Edition, gTTS, FFmpeg

---

